<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="icon" href="https://cdn.discordapp.com/attachments/1081329569258287296/1086137061750353971/image.png">

    <script type="module" src="/js/firebase.js"></script>

    <!-- Bootstrap -->
    <!-- CSS stuff -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <!-- Java Script stuff-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <!-- Dropdowns, Popovers, Tolltips -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

</head>
<body>
    <div class="container">
        <div id="login-box">
            <div class="left">
                <h1>Login</h1>

                <input type="text" id="username" name="username" placeholder="Type username"/>
                <input type="text" id="email" name="email" placeholder="Type email"/>
                <input type="password" id="password" name="password" placeholder="Type password"/>

                <input type="submit" id="signUp" name="signup_submit" value="SignUp"/>
                <input type="submit" id="login" name="login" value="Login"/>
            </div>
            

            <div class="right">
                <span class="loginwith">Sign in with<br>social network</span>
                <button class="social-signin facebook">Log in with Facebook</button>
                <button class="social-signin google">Log in with Google</button>
            </div>

            <div class="or">OR</div>
        </div>
    </div>
</body>

<!-- <script type="module"> 
//     // Import the functions you need from the SDKs you need
//     import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
//     import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";
//     import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

//     // TODO: Add SDKs for Firebase products that you want to use
//     // https://firebase.google.com/docs/web/setup#available-libraries
  
//     // Your web app's Firebase configuration
//     // For Firebase JS SDK v7.20.0 and later, measurementId is optional
//     const firebaseConfig = {
//         apiKey: "AIzaSyAfMsWvrsciOhBJQG3_dsRgF5BrdKmptvY",
//         authDomain: "signup-page-60f27.firebaseapp.com",
//         projectId: "signup-page-60f27",
//         storageBucket: "signup-page-60f27.appspot.com",
//         messagingSenderId: "355197311024",
//         appId: "1:355197311024:web:220bdd8be176ccc6f975f5",
//         measurementId: "G-QTB2E42H1J"
//     };

//     // Initialize Firebase
//     const app = initializeApp(firebaseConfig);
//     const database = getDatabase(app);
//     const auth = getAuth();

//     signUp.addEventListener('click', (e) =>{

//         var email = document.getElementById('email').value;
//         var username = document.getElementById('username').value;
//         var password = document.getElementById('password').value;

//         createUserWithEmailAndPassword(auth, email, password)
//             .then((userCredential) => {
//                 // Signed in 
//                 const user = userCredential.user;

//                 set(ref(database, 'users/' + user.uid), {
//                     username: username,
//                     email: email,
//                     // password: password
//                     // password: password
//                 })

//                 alert('User Created');
//                 // ...
//             })
//             .catch((error) => {
//                 const errorCode = error.code;
//                 const errorMessage = error.message;

//                 alert(errorMessage);
//                 // ..
//             });
//     });

//     login.addEventListener('click', (e)=>{

//         var email = document.getElementById('email').value;
//         // var username = document.getElementById('username').value;
//         var password = document.getElementById('password').value;

//         signInWithEmailAndPassword(auth, email, password)
//             .then((userCredential) => {
//                 // Signed in  
//                 const user = userCredential.user;
//                 const dt = new Date();

//                 update(ref(database, 'users/' + user.uid), {
//                     // last_login: username,
//                     last_login: dt,
//                 })

//                 alert('User logged in');
//                 // ...
//             })
//             .catch((error) => {
//                 const errorCode = error.code;
//                 const errorMessage = error.message;

//                 alert(errorMessage);
//             });
//     });

//     const user = auth.currentUser;

//     onAuthStateChanged(auth, (user) => {
//         if (user) {
//             // User is signed in, see docs for a list of available properties
//             // https://firebase.google.com/docs/reference/js/auth.user
//             const uid = user.uid;
            
//             // ...
//         } else {
//             // User is signed out
//             // ...
//         }
//     });

//     logout.addEventListener('click', (e) =>{
//         signOut(auth).then(() => {
//         // Sign-out successful.
//             alert('Account is signed out');
//         }).catch((error) => {
//         // An error happened.
//             const errorCode = error.code;
//             const errorMessage = error.message;

//             alert(errorMessage);
//         });
//     });

//   </script>-->

</html>